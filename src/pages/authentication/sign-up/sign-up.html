<!-- 
  - @author    ThemesBuckets <themebucketbd@gmail.com>
  - @copyright Copyright (c) 2018
  - @license   Fulcrumy
-->

<!-- Registration Page -->

<ion-content>
    <div class="container">

        <!-- Title of Page  -->
        <div class="top-content" text-center>
            <div class="animated fadeInDown title">Cadastrar</div>
        </div>

        <!-- Sign Up Form  -->
        <div class="form-content">

            <form class="animated slideInUp" [formGroup]="registrationForm"
                  (submit)="doRegistration(registrationForm.value)">
                <ion-list>

                    <!-- User Name -->
                    <ion-item>
                        <ion-label>
                            <ion-icon ios="ios-person" md="md-person" color="color2"></ion-icon>
                        </ion-label>
                        <ion-input type="text" placeholder="Nome" name="nome" formControlName="nome"
                                   [(ngModel)]="registrationForm.nome"
                                   [class.invalid]="!registrationForm.controls.nome.valid && registrationForm.controls.nome.dirty"></ion-input>
                    </ion-item>

                    <!-- Name Validation Message  -->
                    <div class="error-message" *ngIf="!registrationForm.controls.nome.valid  && registrationForm.controls.nome.dirty">
                        <p>Nome é obrigatório.</p>
                    </div>
                    <!-- User Name -->
                    <ion-item>
                        <ion-label>
                            <ion-icon ios="ios-people" md="md-people" color="color2"></ion-icon>
                        </ion-label>
                        <ion-input type="text" placeholder="Login" name="username" formControlName="username"
                                   [(ngModel)]="registrationForm.username"
                                   [class.invalid]="!registrationForm.controls.username.valid && registrationForm.controls.username.dirty"></ion-input>
                    </ion-item>

                    <!-- Name Validation Message  -->
                    <div class="error-message"
                         *ngIf="!registrationForm.controls.username.valid  && registrationForm.controls.username.dirty">
                        <p>Login é obrigatório.</p>
                    </div>

                    <!-- Email Address -->
                    <ion-item>
                        <ion-label>
                            <ion-icon name="md-mail" color="color2"></ion-icon>
                        </ion-label>
                        <ion-input type="email" placeholder="E-mail" name="email" formControlName="email"
                                   [(ngModel)]="registrationForm.email"
                                   [class.invalid]="!registrationForm.controls.email.valid && registrationForm.controls.email.dirty"></ion-input>
                    </ion-item>

                    <!-- Email Validation Message  -->
                    <div class="error-message"
                         *ngIf="!registrationForm.controls.email.valid  && registrationForm.controls.email.dirty">
                        <p>Insira um email válido.</p>
                    </div>

                    <!-- Password -->
                    <ion-item>
                        <ion-label>
                            <ion-icon name="md-eye" color="color2"></ion-icon>
                        </ion-label>
                        <ion-input type="password" placeholder="Senha" name="password" formControlName="password"
                                   [(ngModel)]="registrationForm.password"
                                   [class.invalid]="!registrationForm.controls.password.valid && registrationForm.controls.password.dirty"></ion-input>
                    </ion-item>

                    <!-- Password Validation Message  -->
                    <div class="error-message"
                         *ngIf="!registrationForm.controls.password.valid  && registrationForm.controls.password.dirty">
                        <p>A senha é obrigatória.</p>
                    </div>

                    <!-- Re Password -->
                    <ion-item>
                        <ion-label>
                            <ion-icon name="md-eye" color="color2"></ion-icon>
                        </ion-label>
                        <ion-input type="password" placeholder="Confirmar Senha" name="password_confirmation"
                                   formControlName="password_confirmation"
                                   [(ngModel)]="registrationForm.password_confirmation"
                                   [class.invalid]="!registrationForm.controls.password_confirmation.valid && registrationForm.controls.password_confirmation.dirty"></ion-input>
                    </ion-item>

                    <!-- Password Validation Message  -->
                    <div class="error-message"
                         *ngIf="!registrationForm.controls.password_confirmation.valid  && registrationForm.controls.password_confirmation.dirty">
                        <p>A Confirmar senha é obrigatório.</p>
                    </div>

                    <ion-item>
                        <ion-label>
                            <ion-icon ios="ios-call" md="md-call" color="color2"></ion-icon>
                        </ion-label>
                        <ion-input type="tel" placeholder="Telefone" name="telefone" formControlName="telefone"
                                   (keyup)="phoneMask(registrationForm.controls.telefone.value, $event.target)"
                                   [(ngModel)]="registrationForm.telefone"
                                   [class.invalid]="!registrationForm.controls.telefone.valid && registrationForm.controls.telefone.dirty"></ion-input>
                    </ion-item>

                    <!-- Name Validation Message  -->
                    <div class="error-message"
                         *ngIf="!registrationForm.controls.telefone.valid  && registrationForm.controls.telefone.dirty">
                        <p>Telefone e obrigatório.</p>
                    </div>

                </ion-list>

                <!-- Sign Up Button  -->
                <button ion-button round block type="submit" class="custom-btn">
                    Cadastrar
                </button>

                <!-- Sign In Button  -->
                <ion-row justify-content-center align-items-center>
                    <button ion-button clear type="button" color="color3" (tap)="goToLoginPage()">
                        Já possui uma conta? Entrar
                    </button>
                </ion-row>
            </form>
        </div>
    </div>
</ion-content>